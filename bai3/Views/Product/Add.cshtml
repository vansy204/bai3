@model bai3.Models.Product
@using Microsoft.AspNetCore.Mvc.Rendering
@{
    ViewData["Title"] = "Add Product";
}
<div class="container py-5">
    <div class="row mb-5">
        <div class="col-md-8 mx-auto text-center">
            <h2 class="fw-light mb-4" style="font-size: 32px; letter-spacing: -0.5px;">Add Product</h2>
        </div>
    </div>
    <div class="row justify-content-center">
        <div class="col-md-7">
            <form asp-action="Add" method="post" enctype="multipart/form-data">
                <div class="bg-white rounded-4 shadow-sm p-5 mb-4">
                    <div class="mb-4">
                        <label asp-for="Name" class="form-label text-muted">Product Name</label>
                        <input asp-for="Name" class="form-control form-control-lg border-0 bg-light shadow-sm transition-all" style="height: 56px; border-radius: 16px;" />
                        <span asp-validation-for="Name" class="text-danger small"></span>
                    </div>

                    <div class="mb-4">
                        <label asp-for="Price" class="form-label text-muted">Price</label>
                        <div class="input-group shadow-sm">
                            <span class="input-group-text border-0 bg-light" style="border-top-left-radius: 16px; border-bottom-left-radius: 16px;">$</span>
                            <input asp-for="Price" class="form-control form-control-lg border-0 bg-light" style="height: 56px; border-top-right-radius: 16px; border-bottom-right-radius: 16px;" />
                        </div>
                        <span asp-validation-for="Price" class="text-danger small"></span>
                    </div>

                    <div class="mb-4">
                        <label asp-for="Description" class="form-label text-muted">Description</label>
                        <textarea asp-for="Description" class="form-control border-0 bg-light shadow-sm" style="border-radius: 16px; min-height: 150px;"></textarea>
                        <span asp-validation-for="Description" class="text-danger small"></span>
                    </div>

                    <div class="mb-4">
                        <label asp-for="CategoryId" class="form-label text-muted">Category</label>
                        <select asp-for="CategoryId" class="form-select form-select-lg border-0 bg-light shadow-sm" style="height: 56px; border-radius: 16px;" asp-items="ViewBag.Categories">
                            <option value="">-- Select a category --</option>
                        </select>
                        <span asp-validation-for="CategoryId" class="text-danger small"></span>
                    </div>

                    <div class="mb-4">
                        <label asp-for="ImageUrl" class="form-label text-muted">Product Image</label>
                        <div class="position-relative">
                            <button type="button" class="btn w-100 text-center py-3 transition-all" style="background-color: #F5F5F7; color: #0066CC; border-radius: 16px; border: none;">
                                Choose File
                            </button>
                            <input type="file" asp-for="ImageUrl" accept="image/*" class="position-absolute top-0 start-0 opacity-0 w-100 h-100" style="cursor: pointer;" />
                        </div>
                        <p class="text-secondary mt-2 mb-0 small">Recommended image size: 800×600 pixels</p>
                        <img id="previewImage" class="img-fluid mt-3 rounded shadow-sm" style="max-height: 200px; display: none;" />
                    </div>
                </div>

                <div class="d-grid gap-3">
                    <button type="submit" class="btn btn-lg py-3 text-white fw-normal transition-all" style="background-color: #0066CC; border-radius: 16px;">
                        Add Product
                    </button>
                    <a asp-action="Index" class="btn btn-lg py-3 fw-normal text-decoration-none transition-all" style="background-color: #F5F5F7; color: #1d1d1f; border-radius: 16px;">
                        Back to Products
                    </a>
                </div>
            </form>

            <div class="bg-white rounded-4 shadow-sm p-4 mt-4">
                <h3 class="fw-light mb-3" style="font-size: 20px; letter-spacing: -0.5px;">Tips for Adding Products</h3>

                <div class="d-flex align-items-center mb-3">
                    <div class="rounded-circle flex-shrink-0 me-3 d-flex align-items-center justify-content-center" style="background-color: #F5F5F7; width: 36px; height: 36px;">
                        <i class="bi bi-image" style="color: #0066CC;"></i>
                    </div>
                    <p class="mb-0 text-dark">Use high-quality images with clear backgrounds</p>
                </div>

                <div class="d-flex align-items-center mb-3">
                    <div class="rounded-circle flex-shrink-0 me-3 d-flex align-items-center justify-content-center" style="background-color: #F5F5F7; width: 36px; height: 36px;">
                        <i class="bi bi-text-paragraph" style="color: #0066CC;"></i>
                    </div>
                    <p class="mb-0 text-dark">Write detailed descriptions for better searchability</p>
                </div>

                <div class="d-flex align-items-center">
                    <div class="rounded-circle flex-shrink-0 me-3 d-flex align-items-center justify-content-center" style="background-color: #F5F5F7; width: 36px; height: 36px;">
                        <i class="bi bi-tag" style="color: #0066CC;"></i>
                    </div>
                    <p class="mb-0 text-dark">Choose the appropriate category for your product</p>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        document.querySelector('input[type="file"]').addEventListener('change', function (e) {
            const [file] = e.target.files;
            if (file) {
                const img = document.getElementById('previewImage');
                img.src = URL.createObjectURL(file);
                img.style.display = 'block';
            }
        });
    </script>

}
